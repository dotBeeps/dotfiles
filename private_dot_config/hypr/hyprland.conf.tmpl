
################
### MONITORS ###
################
{{ range .hostSettings.displays }}
{{ if get . "virtual" }}
exec-once = hyprctl output create {{ .name }}
{{ end }}
monitor={{ .name }},{{ if hasKey . "resolution" }}{{ .resolution }}{{ if hasKey . "refreshRate"}}@{{ .refreshRate }}{{else}}preferred{{end}}{{end}},{{ if hasKey . "position" }}{{ .position }}{{else}}auto{{end}},{{if hasKey . "scale"}}{{ .scale }}{{else}}auto{{end}}{{if hasKey . "transform"}},transform,{{.transform}}{{end}}{{if hasKey . "mirror"}},mirror,{{.mirror}}{{end}}
{{ end }}




input {
    kb_layout = us
    numlock_by_default = false
    repeat_delay = 250
    repeat_rate = 35

    focus_on_close = 1

    touchpad {
        natural_scroll = true
    }
} 

device {
    name = wacom-co.-ltd.-pen-and-multitouch-sensor-unknown
    enabled = false
}

device {
    name = wacom-co.-ltd.-pen-and-multitouch-sensor-1
    enabled = true
    {{ if eq .chezmoi.hostname "dotbox" }}
    output = DP-4
    {{ end }}
}

device {
    name = wacom-co.-ltd.-pen-and-multitouch-sensor
    enabled = true
    {{ if eq .chezmoi.hostname "dotbox" }}
    output = DP-4
    {{ end }}
}

binds {
    scroll_event_delay = 0
}

gestures {
    #workspace_swipe = true
    workspace_swipe_distance = 700                                                                                                                                                                              
    #workspace_swipe_fingers = 4
    workspace_swipe_cancel_ratio = 0.15
    workspace_swipe_min_speed_to_force = 5
    workspace_swipe_direction_lock = true
    workspace_swipe_direction_lock_threshold = 10
    workspace_swipe_create_new = true
}

general {
    gaps_workspaces = 8
    gaps_in = 4
    gaps_out = 16,16,16,16
    border_size= 6
    col.active_border=0xffe087b4
    col.inactive_border=0x00000000

    layout = dwindle

    allow_tearing = false  # Allows `immediate` window rule to work
}

dwindle {
	preserve_split = true
	smart_split = false
	smart_resizing = true
}

group {
    groupbar {
        font_family = Monofur Nerd Font
        font_size = 15
        gradients = true
        gradient_round_only_edges = false
        gradient_rounding = 5
        height = 25
        indicator_height = 0
        gaps_in = 3
        gaps_out = 3
    }
}

misc {
    vfr = true
    vrr = 1

    font_family = Monofur Nerd Font

    animate_manual_resizes = false
    animate_mouse_windowdragging = false

    disable_hyprland_logo = true
    force_default_wallpaper = 0

    new_window_takes_over_fullscreen = 2
    allow_session_lock_restore = true
    middle_click_paste = false
    focus_on_activate = true
    session_lock_xray = true

    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
}

plugin {
    hyprsplit {
        num_workspaces = 5
    }
    touch_gestures {
        resize_on_border_long_press = false
        sensitivity = 3.0
    }
    hyprexpo {
        columns = 3
        gap_size = 5
        bg_col = rgb(111111)
        workspace_method = center current # [center/first] [workspace] e.g. first 1 or center m+1

        gesture_distance = 300 # how far is the "max" for the gesture
    }
}

$hypr = ~/.config/hypr/hyprland

# Other configs
source = $hypr/env.conf
source = $hypr/animations.conf
source = $hypr/decoration.conf
source = $hypr/execs.conf
source = $hypr/rules.conf
source = $hypr/keybinds.conf
source = $hypr/colors.conf
source = $hypr/gestures.conf
